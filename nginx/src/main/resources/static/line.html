<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title>博客用户登录</title>
		<script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
		<script src="activeline.1.0.js" type="text/javascript"></script>
		<script src="layer.js"></script>
		<style type="text/css">

		a{
			font-size: 12px;
			color:#000;
		}
		
			*{
				margin: 0;
				padding:0;
			}
			html{
				width:100%;
				height:100%;
			}
			
			body{
				width:100%;
				height:100%;
				position: relative;
				background-color: #151529;
				 overflow: hidden;
				 color:#000;
				 font-size: 12px;
			}
			.log_con{
				width:400px;
				height:400px;
			}
			.input-text{
				width:300px;
				height:30px;
				line-height: 30px;
				border:1px solid #ccc;
				border-radius:3px;
				font-size: 14px;
				color:#000;
				background: #fff;
				padding-left: 20px;
				margin-left:30px;
				
				
			}
			
			p{
				margin-top:30px;
			}
			/*.input-text:hover{
				border:1px solid #4527db;
			}*/
			.btn{
				width:132px;
				height:30px;
				margin-left: 50px;
				background: #191715;;
				border:1px solid #191715;;
				border-radius:3px;
				color:#fff;
				cursor:pointer;
			}
			.btn:hover{
				opacity: 0.7;
			}
			.lg{
				width:400px;
				height:300px;
				position: relative;
				margin:0 auto;
				overflow: hidden;
				border-radius:4px;
				background: rgba(220, 219, 219, 0.3);
				/*border:1px solid #ccc;*/
				
			}
			.lg_t{
				width:100%;
				height:30px;
				padding-top:10px;
				background: #fff;
			}
			.lg_c{
				width:868px;
				height:280px;
				opacity: 1;
				position: absolute;
				
			}
			.log_con{
				display: inline-block;
			}
			
			.lg_t_l{
				display: inline-block;
				width:126px;
				height:30px;
				line-height: 30px;
				text-align: center;
				margin:0 30px;
				cursor:pointer;
				font-size: 16px;
				
			}
			.input-text:hover{
				border:1px solid #cd9c7b;
				box-shadow: 0px 0px 14px #cd9c7b;
			}
			.active{
				border-bottom: 4px solid #171414;
			}
			.login_float{
				width:400px;
				height:300px;
				position: absolute;
				border-radius:4px;
				left:50%;
				top:30%;
				z-index: 999;
				transform: translate(180px, 0);
				background-color: #fff;
				box-shadow: 0px 0px 3px #fff;
			}
			.tt{
				transform: translate(-50%);
			}
			.bm{
			margin-left:20px;
			width:400px;
			height:60px;
			position: absolute;
			font-size: 12px;
			margin: 0 auto;
			bottom: 10px;
			color:#fff;
    		left: 50%;
    		transform: translate(-50%);

		}
		.bm a{
			width: :200px;
			height:40px;
			margin: 10px auto;
			display: inline-block;
			color: #fff;
			font-size: 12px;
		}
		a{
			color:#000;
			font-size: 12px;
			text-decoration: none;
		}
		.bm_div{
			width:315px;
			height:20px;
			margin: 0 auto;
		}

		.lg_item{
			width:100%;
			height:400px;
			position: absolute;
			top:50%;
			left:0;
			transform: translate(0,-50%);
			background-image: url(01.jpg);
			background-repeat: no-repeat;
			-webkit-background-size: cover;
    		-moz-background-size: cover;
   			-o-background-size: cover;
			   background-size: cover;
			   opacity: 0.6;
			
		}
	
			
		</style>
	</head>
	<body>
		<div class="lg_item">
		</div>
		<div class="login_float">
		<div class="lg">
			<div class="lg_t">
				<div class="lg_t_l active">密码登录</div>
				<div class="lg_t_l">验证码登录</div>
			</div>
			<div class="lg_c">
			<div class ="log_con">
			<p><label></label><input class="input-text" id="username" type="text" placeholder="输入用户名"/></p>
			<p><label></label><input class="input-text" id="password" type="password" placeholder="输入密码"/></p>
			<p style="margin-left:30px;"><a  href="/touchme">有疑问？</a><a href="/wxlogin">微信登录</a>|<a href="/qqlogin">qq登录</a><input class="btn" id="loginbtn" type="button" value="登录"/></p>
		</div>
		<div class ="log_con">
			<p><label></label><input class="input-text" type="text" placeholder="输入手机号"/></p>
			<p><label></label><input class="input-text" type="text" placeholder="输入验证码"/></p>
			<p><label></label><input class="input-text" style="width:120px" type="text" placeholder="输入短信验证码"/><a href="sendMsg">发送验证码</a></p>
			<p style="margin-left:30px;"><a href="/touchme">有疑问？</a><a href="/wxlogin">微信登录</a>|<a href="javascript:;" id="qqlg">qq登录</a><input class="btn" type="button" value="登录"/></p>
		</div>
		</div>
		</div>
		</div>
		
		
		<div class="bm">
			<div class="bm_div"><a class ="icp" href="http://www.beian.miit.gov.cn">鄂ICP备18011644号</a></div>
			<div class="bm_div">Copyright © 2018-2019 chic. All Rights Reserved.</div>
		</div>
		<script type="text/javascript" src="//cdn.jsdelivr.net/npm/eruda"></script>
		<script type="text/javascript">
//		eruda.init();
		$(function(){
			
			/*$(".login_float").style.left=$("body").width()*0.5-($(".login_float").width()/2);
			$(".login_float").style.top=$("body").height()*0.5-($(".login_float").heigth()/2);*/
			$(".lg_t_l").each(function(){
				$(this).click(function(){
					$(this).addClass("active").siblings().removeClass("active");
					var index = $(this).index();
					console.log(index);
					var width = $(".lg").width();
					$(".lg_c").animate({"left":-index*width},"slow",function(){
						
					});
					
				});
			});
		});
		</script>
		<script type="text/javascript">
		$("body").activeLine({
			r:2, //球体的基础大小
			rRise:0.2,//小球浮动区间
			time:10,//执行时间 执行频率 运动速度
			num:20,//初始化小球数量
			cycleColor:"#ccc",//球的颜色
			lineColor:"#ccc", //线条的颜色
			linkDistance:180,//两球的最大连线距离
			lineWidth:0.5,//线条宽度
			flag:false//鼠标移入是否暂停  true 表示 鼠标移入暂停canvas动画  鼠标移出继续运动
		});	
		</script>
		<script type="text/javascript">
		
	/**
	 *  页面设备监控
	 * 
	 */
			var width =$("body").width();
				var height=$("body").height();
		var loginw = $(".login_float").width();
		if(width<2*loginw){
			console.log("-----------------------");
			$(".login_float").addClass("tt");
		}else{
			$(".login_float").removeClass("tt");
		}
			$(function(){
				$("#loginbtn").click(function(){
					var username = $("#username").val();
					var password = $("#password").val();
					var params ={
							"username":username,
							"password":password
						};
						var param = JSON.stringify(params);
					$.ajax({
						url:"https://www.yistar.top/wx_mini/login",
						type:"post",
						dataType:"json",
						data:param,
						contentType: "application/json;charset-UTF-8",
						success:function(rs){
							var msg = rs.resMsg;
							if(rs.resCode==1){
								var index = layer.msg(msg);
								setTimeout(function(){
								window.location.href="index.html"
							},1000);
							}else{
								var index = layer.msg("账号或者密码错误");
							}
						},
						error:function(){
							var index = layer.msg("请求error");
						}
						
					});
					
				});
				
				});
			//window 窗口监听事件
			window.onresize = function(){
				width =canvas.width=$("body").width();
		var loginw = $(".login_float").width();
		if(width<2*loginw){
			console.log("-----------------------");
			$(".login_float").addClass("tt");
		}else{
			$(".login_float").removeClass("tt");
		}
			}
			$("#qqlg").click(function(){
				window.location.href="https://graph.qq.com/oauth2.0/authorize?client_id=101684736&response_type=code&scope=all&redirect_uri=https://www.yistar.top/callback";
			});
			
			
		</script>
		
		
		
	</body>
</html>
