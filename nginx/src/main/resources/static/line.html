<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>3d动gan线条</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.min.css" rel="stylesheet" />
		<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	</head>
		<style type="text/css">
			html{
				width:100%;
				height:100%;
			}
			
			body{
				width:100%;
				height:100%;
				margin :0;
				padding: 0;
				background: black;
				 overflow: hidden;
			}
		
		</style>
	<body>
		
		<canvas id="myCanvas"></canvas>
		
		
		<script type="text/javascript">
		
		
		//小球对象
		
			var cyclePoint = function(x,y,r,s,t){
				this.x =x;//初始位置  ---横坐标
				this.y=y;//初始化 纵坐标
				this.r=r;//小球的半径;
				this.s=s;
				this.t=t;
			}
			var canvas = $("#myCanvas")[0];
			var width =canvas.width=$("body").width();
			var height=canvas.height=$("body").height();
			var ctx = canvas.getContext("2d");
			var cycleList = [];
			//构建圆点对象
			var RENDERER = {
				//初始化 小球
				init:function(){
					for(var i= 0;i<30;i++){
						var x = (width-6)*Math.random();
						var y = (height-6)*Math.random();
						var r = 3*Math.random()+3;
						var random1 = Math.random();
						var random2 = Math.random();
						var s = random1>0.5 ? 1 : -1;
						var t = random2>0.5 ? 1 : -1;
						cycleList.push(new cyclePoint(x,y,r,s,t));
						ctx.beginPath();
						ctx.fillStyle="#fff";
						ctx.arc(x,y,r,0,2*Math.PI,true);
						ctx.stroke();
						ctx.fill();
					}
					this.link(cycleList);
				},
				//小球的运动
				render:function(a){
					ctx.clearRect(0,0,1538,735);
					for(var i= 0;i<a.length;i++){
						//获取小球的位置
						var c = a[i].x;
						var d = a[i].y;
						var r = a[i].r;
						if(c<(r/2)||(c>(width-6))){
							a[i].s*=-1;
						}
						if((d<(r/2))||d>height-6){
							a[i].t*=-1;
						}
						a[i].x+=a[i].s;
						a[i].y+=a[i].t;
						ctx.beginPath();
						ctx.fillStyle="#fff";
						ctx.arc(a[i].x,a[i].y,a[i].r,0,2*Math.PI,true);
						ctx.stroke();
						ctx.fill();
					}
					this.link(cycleList);
				},
				//判断两个对球体对象的距离 如果距离接近就连接
				link:function(a){
					for(var i =0;i<a.length-1;i++){
						for(var j =i+1;j<a.length;j++){
							//计算两个球的距离
							var x =a[i].x;
							var y =a[j].x;
							var o = a[i].y;
							var p = a[j].y;
							var width = Math.abs(x-y);
							var height =Math.abs(o-p);
							var sprt = Math.sqrt(width*width+height*height);
							if(sprt<100){
								ctx.beginPath();
								ctx.strokeStyle="#fff";
								ctx.moveTo(x,o);
								ctx.lineTo(y,p);
								ctx.stroke();
							}
						}
					}
				},
				run: function(s){
					RENDERER.init(); 
			setInterval(function(){
				RENDERER.render(cycleList);
				
			},s);
				}
			};
			
			//执行run方法
			RENDERER.run(10);
			
			
			
			
		</script>
	</body>

</html>