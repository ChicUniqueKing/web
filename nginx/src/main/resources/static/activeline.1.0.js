;(function(f){cyclePoint=function(m,q,p,o,n){this.x=m;this.y=q;this.r=p;this.s=o;this.t=n};function l(o,z,D,B,u){for(var q=0;q<o.num;q++){var A=(B-6)*Math.random();var v=(u-6)*Math.random();var n=o.rRise*Math.random()+o.r;var m=Math.random();var F=Math.random();var E=m>0.5?1:-1;var C=F>0.5?1:-1;z.push(new cyclePoint(A,v,n,E,C));D.beginPath();D.fillStyle=o.cycleColor;D.arc(A,v,n,0,2*Math.PI,true);D.stroke();D.fill()}j(o,z,D)}function b(n,x,A,y,q){A.clearRect(0,0,y,q);for(var o=0;o<x.length;o++){var v=x[o].x;var u=x[o].y;var m=x[o].r;var B=x[o].s;var z=x[o].t;if(v<(m/2)||(v>(y-6))){x[o].s*=-1}if((u<(m/2))||u>q-6){x[o].t*=-1}x[o].x+=x[o].s;x[o].y+=x[o].t;A.beginPath();A.fillStyle=n.cycleColor;A.arc(x[o].x,x[o].y,x[o].r,0,2*Math.PI,true);A.stroke();A.fill()}j(n,x,A)}function j(m,z,C){for(var s=0;s<z.length-1;s++){for(var r=s+1;r<z.length;r++){var A=z[s].x;var v=z[r].x;var n=z[s].y;var q=z[r].y;var B=Math.abs(A-v);var t=Math.abs(n-q);var u=Math.sqrt(B*B+t*t);if(u<m.linkDistance){C.beginPath();C.lineWidth=m.lineWidth;C.strokeStyle=m.lineColor;C.moveTo(A,n);C.lineTo(v,q);C.stroke()}}}}var d,k,i,c,g,h,e;var a;f.fn.activeLine=function(n){h=this;var p={r:5,rRise:1,num:30,time:10,cycleColor:"#ccc",lineColor:"#ccc",linkDistance:180,lineWidth:0.5,flag:false};c=f.extend(p,n);e=document.createElement("canvas");h[0].appendChild(e);var m=e.width=h.width();var o=e.height=h.height();g=e.getContext("2d");i=[];l(c,i,g,m,o);a=setInterval(function(){b(c,i,g,m,o)},c.time);f(window).resize(function(){m=e.width=h.width();o=e.height=h.height();clearTimeout(a);a=setInterval(function(){b(c,i,g,m,o)},c.time)});if(c.flag){f(window).mouseover(function(){clearTimeout(a)}).mouseleave(function(){a=setInterval(function(){b(c,i,g,m,o)},c.time)})}return h}})(jQuery);